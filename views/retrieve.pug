extends layout/default.pug
block previte-head
  link(rel="stylesheet" href="/dist/css/retrieve.css")
  .page-retrieve
  .i-step
    .active
      span 1
      label 填写账号
    div
      b
      span 2
      label 账号验证
    div
      b
      span 3
      label 设置新密码
    div
      b
      span 4
      label 完成
  ul.retrieve-form-box
    li.retrieve-step1.retrieve_cont_zh
      div
        .login_right_hint.login_right_w
          span
            img(src='/icon/error.svg', alt='')
          span {{ errors.first('mobile') }}
        // 请输入手机号
        .register_cont_number
          input(placeholder='请输入手机号')
        .register_cont_click
          button 点击按钮进行验证
      .stepA-item
        | 图标滑动验证
    li.retrieve-step2.retrieve_cont_yz
      .login_right_hint.login_right_w
        span
          img(src='/icon/error.svg', alt='')
        span {{ errors.first('code') }}
      // 请输入手机号
      .register_cont_number
        input(placeholder='请输入手机号')
      .register_cont_click_yz
        .click_yz_yz
          div
            input(v-validate="'required'", name='code', data-vv-as='手机验证码', type='text', v-model='code', placeholder='手机验证码')
          div
            button(v-if='!reGetEnable && secondsLeft>0') {{secondsLeft}}s后重新获取
            button.click_yz_cx(@click='getSmsCode', v-else='') 重新获取
        .click_yz_text 校验码短信已发送到你的手机上，有效时间为10分钟，请及时查收。
      // 下一步按钮
      button.i-button
        | 下一步
    li.retrieve-step3.retrieve_cont_sz
      // 输入密码
      .register_cont_pw
        .login_right_hint.login_right_w
          span
            img(src='/icon/error.svg', alt='')
          span {{ errors.first('password') }}
        p
          input(placeholder='请输入密码')
        p
          input(name='pw_confirm', ref='pw_confirm', data-vv-as='确认密码', type='password', placeholder='确定密码')
      // 下一步按钮
      button.i-button
        | 下一步
    li.retrieve-step4.register_cont_wc
      div
        img(src='/icon/succeed.svg', alt='')
      div 密码设置成功!
      .register_next
        button.i-button 完成




//-     <div class="page-retrieve">
//-         <div class="i-step">
//-             <div :class="{active:(step==1),finish:(step>1)}"><span>1</span><label>填写账号</label></div>
//-             <div :class="{active:(step==2),finish:(step>2)}"><b></b><span>2</span><label>账号验证</label></div>
//-             <div :class="{active:(step==3),finish:(step>3)}"><b></b><span>3</span><label>设置新密码</label></div>
//-             <div :class="{active:(step==4),finish:(step>4)}"><b></b><span>4</span><label>完成</label></div>
//-         </div>
//-           <ul class="retrieve-form-box">
//-             <li class="retrieve-step1 retrieve_cont_zh" v-if="step==1">
//-               <div v-if="stepOne==1">
//-                 <div class="login_right_hint login_right_w"  v-show="errors.has('mobile')">
//-                   <span><img src="/icon/error.svg" alt=""></span>
//-                   <span>{{ errors.first('mobile') }}</span>
//-                 </div>
//-                 <!-- 请输入手机号 -->
//-                 <div class="register_cont_number">
//-                      <input v-validate="'required|mobile'" name="mobile" data-vv-as="手机号码" data-vv-validate-on="input" type="text" v-model="form.mobile" placeholder="请输入手机号">
//-                 </div>
//-                 <div class="register_cont_click">
//-                     <button @click="showCheckRobotBox">点击按钮进行验证</button>
//-                 </div>
//-               </div>
//-               <div v-if="stepOne==2" class="stepA-item">
//-                 <prevent-robot :isVisible="true" @robot-check="robotCheck" />
//-               </div>
//-             </li>
//-             <li class="retrieve-step2 retrieve_cont_yz" v-if="step==2">
//-                 <div class="login_right_hint login_right_w" v-show="errors.has('code')">
//-                     <span><img src="/icon/error.svg" alt=""></span>
//-                     <span>{{ errors.first('code') }}</span>
//-                 </div>
//-                  <!-- 请输入手机号 -->
//-                 <div class="register_cont_number">
//-                     <input v-validate="'required|mobile'" readonly name="mobile" data-vv-as="手机号码" data-vv-validate-on="input" type="text" v-model="form.mobile" placeholder="请输入手机号">
//-                 </div>
//-                 <div class="register_cont_click_yz">
//-                     <div class="click_yz_yz">
//-                         <div><input  v-validate="'required'" name="code" data-vv-as="手机验证码" type="text" v-model="code" placeholder="手机验证码"></div>
//-                         <div ><button v-if="!reGetEnable && secondsLeft>0">{{secondsLeft}}s后重新获取</button><button @click="getSmsCode" v-else class="click_yz_cx">重新获取</button></div> 
//-                     </div>
//-                     <div class="click_yz_text">校验码短信已发送到你的手机上，有效时间为10分钟，请及时查收。</div>
//-                 </div>
//-                 <!-- 下一步按钮 -->
//-                 <button class="i-button" @click="verifySMScode">
//-                    下一步
//-                 </button>
//-             </li>
//-              <li class="retrieve-step3 retrieve_cont_sz" v-if="step==3">
//-                 <!-- 输入密码 -->
//-                 <div class="register_cont_pw">
//-                   <div class="login_right_hint login_right_w" v-show="errors.has('password')">
//-                     <span><img src="/icon/error.svg" alt=""></span>
//-                     <span>{{ errors.first('password') }}</span>
//-                   </div>
//-                   <p><input v-validate="'required|confirmed:pw_confirm|min:6'" name="password" data-vv-as="密码" type="password" v-model="form.password" placeholder="请输入密码"></p>
//-                   <p><input name="pw_confirm" ref="pw_confirm" data-vv-as="确认密码" type="password" v-model="form.password_confirmation" placeholder="确定密码"></p>
//-                 </div>
//-                 <!-- 下一步按钮 -->
//-                 <button class="i-button" @click="checkPwd">
//-                     下一步
//-                 </button>
//-              </li>
//-              <li class="retrieve-step4 register_cont_wc" v-if="step==4">
//-                     <div><img src="/icon/succeed.svg" alt=""></div>
//-                     <div>密码设置成功!</div>
//-                     <div class="register_next">
//-                       <button class="i-button" @click="logOut">完成</button>
//-                     </div>
//-             </li>
//-           </ul>
//-     </div>

